@import "tailwindcss";

:root {
  /* =========================
     Theme Tokens (v1 contract)
     Defaults are neutral-dark (brand-safe)
     ========================= */

  /* Core neutrals */
  --app-bg: #020617;
  --surface-1: #0b1220;
  --surface-2: #0f172a;
  --surface-3: #020617;
  --border: #1f2937;
  --border-muted: #111827;
  --text: #e5e7eb;
  --text-muted: #9ca3af;
  --text-subtle: #6b7280;
  --focus-ring: #38bdf8;

  /* Brand + accents */
  --brand: #2563eb;
  --brand-contrast: #ffffff;
  --accent: #22c55e;
  --accent-contrast: #052e16;
  --brand-soft: #2563eb33; /* ~20% alpha */
  --brand-rail: #2563eb;
  --link: #38bdf8;

  /* Semantic support */
  --success: #22c55e;
  --success-contrast: #052e16;
  --warning: #f97316;
  --warning-contrast: #431407;
  --danger: #ef4444;
  --danger-contrast: #450a0a;
  --info: #38bdf8;
  --info-contrast: #082f49;

  /* =========================
     Legacy aliases (kept)
     These keep existing screens working during migration.
     ========================= */
  --background: var(--app-bg);
  --foreground: var(--text);

  --brand-primary: var(--brand);
  --brand-secondary: var(--surface-2);

  --surface: var(--surface-3);
  --border-subtle: var(--border);

  --muted-foreground: var(--text-muted);

  /* =========================
     Surface System (v1)
     Semantic roles for universal app surfaces
     ========================= */
  --canvas-bg: var(--app-bg);
  --panel-bg: var(--surface-2);
  --panel-muted-bg: color-mix(in srgb, var(--surface-2) 55%, transparent);
  --panel-ring: var(--border);

  /* Optional “architectural glass” capability (disabled by default) */
  --panel-backdrop: none;
  --panel-backdrop-glass: blur(10px);
  --panel-glass-bg: color-mix(in srgb, var(--surface-2) 72%, transparent);
  --panel-muted-glass-bg: color-mix(in srgb, var(--surface-2) 58%, transparent);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: light) {
  :root {
    --app-bg: #ffffff;
    --surface-1: #f8fafc;
    --surface-2: #ffffff;
    --surface-3: #f1f5f9;
    --border: #e5e7eb;
    --border-muted: #f1f5f9;
    --text: #0f172a;
    --text-muted: #475569;
    --text-subtle: #64748b;

    /* Keep brand/semantics the same in light mode; contrasts remain readable */
    --background: var(--app-bg);
    --foreground: var(--text);

    --brand-primary: var(--brand);
    --brand-secondary: var(--surface-2);
    --surface: var(--surface-3);
    --border-subtle: var(--border);
    --muted-foreground: var(--text-muted);

    /* Surface System (v1) — light mode */
    --canvas-bg: var(--app-bg);
    --panel-bg: var(--surface-2);
    --panel-muted-bg: color-mix(in srgb, var(--surface-2) 65%, transparent);
    --panel-ring: var(--border);

    /* Keep glass optional in light mode */
    --panel-backdrop: none;
    --panel-backdrop-glass: blur(10px);
    --panel-glass-bg: color-mix(in srgb, var(--surface-2) 82%, transparent);
    --panel-muted-glass-bg: color-mix(in srgb, var(--surface-2) 70%, transparent);
  }
}

@keyframes coach-panel-slide-in {
  from {
    transform: translateX(66px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Used for the coach panel in TeamToolsPanel */
.coach-panel-slide-in {
  animation: coach-panel-slide-in 0.48s ease-out;
}

@keyframes coach-panel-slide-out {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(16px);
    opacity: 0;
  }
}

@layer utilities {
  .bg-brand {
    background-color: var(--brand);
  }
  .bg-brand-soft {
    background-color: var(--brand-soft);
  }
  .bg-surface-1 {
    background-color: var(--surface-1);
  }
  .bg-surface-2 {
    background-color: var(--surface-2);
  }
  .bg-surface-3 {
    background-color: var(--surface-3);
  }
  .text-subtle {
    color: var(--text-subtle);
  }
  .ring-subtle {
    --tw-ring-color: var(--border);
  }
  .focus-ring {
    --tw-ring-color: var(--focus-ring);
  }
  .border-subtle {
    border-color: var(--border);
  }
  .text-muted {
    color: var(--text-muted);
  }
  .text-link {
    color: var(--link);
  }

  /* Surface System utilities */
  .bg-canvas {
    background-color: var(--canvas-bg);
  }
  .bg-panel {
    background-color: var(--panel-bg);
  }
  .bg-panel-muted {
    background-color: var(--panel-muted-bg);
  }
  .ring-panel {
    --tw-ring-color: var(--panel-ring);
  }

  /* Composite surface classes (use these for consistency) */
  .panel {
    background-color: var(--panel-bg);
    --tw-ring-color: var(--panel-ring);
  }
  .panel-muted {
    background-color: var(--panel-muted-bg);
    --tw-ring-color: var(--panel-ring);
  }

  /* Optional “architectural glass” (opt-in per surface) */
  .panel-glass {
    background-color: var(--panel-glass-bg);
    backdrop-filter: var(--panel-backdrop-glass);
    -webkit-backdrop-filter: var(--panel-backdrop-glass);
    --tw-ring-color: var(--panel-ring);
  }
  .panel-muted-glass {
    background-color: var(--panel-muted-glass-bg);
    backdrop-filter: var(--panel-backdrop-glass);
    -webkit-backdrop-filter: var(--panel-backdrop-glass);
    --tw-ring-color: var(--panel-ring);
  }
}

.coach-panel-slide-out {
  animation: coach-panel-slide-out 0.38s ease-in forwards;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}
